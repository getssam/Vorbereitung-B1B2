<html lang="de"><head>
<meta charset="UTF-8"/>
<title>Lesen Teil 3</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<!-- Font Awesome for Icons -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<style>
    :root {
      --primary-color: #3498db; /* A slightly more vibrant blue */
      --secondary-color: #2ecc71; /* Green for success */
      --danger-color: #e74c3c; /* Red for error */
      --light-bg: #ecf0f1;
      --dark-text: #2c3e50;
      --light-text: #ffffff;
      --border-radius: 10px;
      --box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      --box-shadow-hover: 0 8px 20px rgba(0,0,0,0.15);
    }

    body {
      font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #e5e5e5; background-image: radial-gradient(at 0% 0%, hsla(328, 76%, 65%, 0.7) 0px, transparent 50%), radial-gradient(at 0% 40%, hsla(15, 88%, 65%, 0.5) 0px, transparent 50%); background-attachment: fixed;
      color: var(--dark-text);
      animation: fadeInPage 0.8s ease-out;
      min-height: 100vh;
      box-sizing: border-box;
    }

    @keyframes fadeInPage {
      from { opacity: 0; transform: translateY(-15px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .header {
      background-color: var(--primary-color);
      color: var(--light-text);
      padding: 20px 25px;
      margin-bottom: 25px;
      border-radius: var(--border-radius);
      text-align: center;
      font-size: 26px;
      font-weight: 600;
      box-shadow: var(--box-shadow);
      letter-spacing: 0.5px;
    }

    .container {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    @media(min-width: 768px) {
      .container {
        flex-direction: row;
      }
    }

    .left-column, .right-column {
      flex: 1;
      min-width: 300px;
    }

    .quiz-scroll-container, .right-column-content {
      background-color: var(--light-text);
      border-radius: var(--border-radius);
      padding: 15px;
      box-shadow: var(--box-shadow);
      max-height: 60vh; /* Adjusted for better viewport fit */
      overflow-y: auto;
      /* Custom scrollbar styling */
      scrollbar-width: thin;
      scrollbar-color: var(--primary-color) var(--light-bg);
    }

    /* Style for .right-column-content when being dragged over */
    .right-column-content.drag-over {
        background-color: #eef8ff; /* Same as .drop-target.drag-over */
        border: 2px dashed var(--primary-color); /* Add a border to indicate it's a drop zone */
    }


    .quiz-scroll-container::-webkit-scrollbar,
    .right-column-content::-webkit-scrollbar {
      width: 8px;
    }
    .quiz-scroll-container::-webkit-scrollbar-track,
    .right-column-content::-webkit-scrollbar-track {
      background: var(--light-bg);
      border-radius: var(--border-radius);
    }
    .quiz-scroll-container::-webkit-scrollbar-thumb,
    .right-column-content::-webkit-scrollbar-thumb {
      background-color: var(--primary-color);
      border-radius: var(--border-radius);
      border: 2px solid var(--light-bg);
    }


    .question-box {
      border: 1px solid #bdc3c7;
      border-left: 5px solid var(--primary-color);
      border-radius: var(--border-radius);
      margin-bottom: 20px;
      padding: 15px;
      background-color: #fdfdfd; /* Slightly off-white */
      transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    }
    .question-box:hover {
      transform: translateY(-3px);
      box-shadow: var(--box-shadow-hover);
    }
    .question-text {
      font-size: 0.9em;
      color: #7f8c8d;
      margin-top: 10px;
    }

    .drop-target {
      background-color: #f9f9f9;
      padding: 12px;
      margin-bottom: 10px; /* Space between drop target and question text */
      border: 2px dashed #cccccc;
      min-height: 45px;
      border-radius: 8px;
      text-align: center;
      transition: background-color 0.3s, border-color 0.3s;
      display: flex; /* To center placeholder and dropped item */
      align-items: center;
      justify-content: center;
      position: relative; /* For feedback icons */
    }
    .drop-target.empty-drop-target::before {
      content: "Hier Antwort ablegen";
      color: #aaa;
      font-style: italic;
      font-size: 0.9em;
    }
    .drop-target:not(.empty-drop-target)::before {
      content: ""; /* Clear placeholder when not empty */
    }

    .drop-target:hover, .drop-target.drag-over {
      background-color: #eef8ff;
      border-color: var(--primary-color);
    }

    .draggable {
      background-color: #e0e0e0;
      color: var(--dark-text);
      margin: 10px 0;
      padding: 12px 15px;
      border-radius: 8px;
      cursor: grab;
      display: flex;
      align-items: center;
      transition: background-color 0.3s, transform 0.2s, box-shadow 0.2s;
      user-select: none;
      font-size: 0.95em;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    .draggable:hover {
      background-color: #d0d0d0;
      transform: translateX(3px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .draggable.selected {
      outline: 2px solid var(--primary-color);
      box-shadow: 0 0 0 3px var(--primary-color_alpha, rgba(52, 152, 219, 0.3));
      background-color: #cce7ff;
    }
    .draggable.dragging {
      opacity: 0.6;
      transform: scale(0.95);
      box-shadow: 0 10px 20px rgba(0,0,0,0.2);
      cursor: grabbing;
    }

    /* Feedback styling for drop targets */
    .drop-target.correct {
      background-color: #e8f5e9; /* Light green */
      border: 2px solid var(--secondary-color) !important;
    }
    .drop-target.correct::after {
      content: "\f00c"; /* Font Awesome check icon */
      font-family: "Font Awesome 6 Free";
      font-weight: 900;
      color: var(--secondary-color);
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.2em;
    }

    .drop-target.incorrect {
      background-color: #ffebee; /* Light red */
      border: 2px solid var(--danger-color) !important;
    }
    .drop-target.incorrect::after {
      content: "\f00d"; /* Font Awesome times icon */
      font-family: "Font Awesome 6 Free";
      font-weight: 900;
      color: var(--danger-color);
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.2em;
    }
    /* Ensure dropped draggable text is visible over feedback */
    .drop-target .draggable {
      background-color: var(--primary-color);
      color: var(--light-text);
      width: calc(100% - 30px); /* Adjust width to make space for icon */
      padding-right: 35px; /* Space for the potential icon */
      box-sizing: border-box;
    }
    .drop-target.correct .draggable { background-color: var(--secondary-color); }
    .drop-target.incorrect .draggable { background-color: var(--danger-color); }


    .wrong-flag {
      margin-right: 10px;
      accent-color: var(--danger-color);
      transform: scale(1.2);
      cursor: pointer;
    }

    .button-container {
      margin-top: 25px;
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
    }

    .quiz-button {
      padding: 12px 25px;
      border: none;
      background-color: var(--primary-color);
      color: white;
      font-size: 16px;
      font-weight: 500;
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: background-color 0.3s, transform 0.2s, box-shadow 0.2s;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      box-shadow: var(--box-shadow);
    }
    .quiz-button:hover {
      background-color: #2980b9; /* Darker shade of primary */
      transform: translateY(-2px);
      box-shadow: var(--box-shadow-hover);
    }
    .quiz-button:active {
      transform: translateY(0px);
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .quiz-button.secondary {
      background-color: #7f8c8d; /* A neutral secondary color */
    }
    .quiz-button.secondary:hover {
      background-color: #6c7a89;
    }

    #result {
      text-align: center;
      margin-top: 25px;
      padding: 15px;
      font-size: 1.1em;
      font-weight: 500;
      background-color: var(--light-text);
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
    }
    #result .correct-count { color: var(--secondary-color); }
    #result .total-count { color: var(--primary-color); }
    #result .marked-wrong-count { color: var(--danger-color); }

    #warningBox {
  display: none;
  position: fixed;
  top: 20px;                  
  left: 50%;                  
  transform: translateX(-50%);
  background: #f81d1d;
  color: #ffffff;
  padding: 15px 20px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
  font-family: Arial, sans-serif;
  font-size: 14px;
  font-weight: bold;
  z-index: 9999;
}

  </style>
</head>
<body>
<div class="header">Lesen Teil 3: Haushalt </div>
<div class="container">
<div class="left-column">
<div class="quiz-scroll-container">
<!-- Questions A-->
<div class="question-box" data-correct="__NO_CORRECT_ANSWER__">
<div class="drop-target empty-drop-target" onclick="clickDrop(this)" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
<div class="question-text">
           Wenn Milchprodukte Bauchweh bereiten – viele Erwachsene, auch Kinder, kennen das Problem: Ein Stück Torte, eine Kugel Eis oder ein Glas Milch, und bald machen sich Bauchschmerzen und Verdauungsprobleme bemerkbar. Das kann ein Zeichen für Laktoseintoleranz sein. Laktose ist der in Milch und Milchprodukten enthaltene Zucker. Die Unverträglichkeit gegenüber Laktose ist eine der am Weitesten verbreiteten Nahrungsmittelunverträglichkeiten. Rund um das Thema Laktoseunverträglichkeit beantworten Ihnen in diesem Forum zwei Kinderärzte Ihre Fragen. 
           <p>Häufig gestellte Fragen: FAQ</p>
<p>Mehr Infos? Stellen Sie hier Ihre Frage.</p>
</div>
</div>
<!-- Questions B-->
<div class="question-box" data-correct="Sie möchten in Ihrem Haushalt weniger Plastik verwenden.">
<div class="drop-target empty-drop-target" onclick="clickDrop(this)" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
<div class="question-text">
            Die Produktion und der Verbrauch von Kunststoff steigen Weltweit offenbar unaufhaltsam an. Kunststoff ist allgegenwärtig, und wir können uns ein Leben ohne ihn kaum mehr vorstellen. Dabei ist es gar nicht so schwer, den Verpackungsmüll gering zu halten. Unsere Redaktion hat sich einige Gedanken dazu gemacht, wie der Verzicht auf Kunststoff im eigenen Haushalt schrittweise gelingen kann. Hier präsentieren wir die Ergebnisse und hoffen, dass möglichst viele Nutzer unsere Vorschläge aufgreifen werden. 
            <p>Ideen für weniger Kunststoff im Haushalt &gt;&gt; ansehen.</p>
<p>Wenn ihr weitere gute Ideen habt, teilt sie doch bitte mit uns &gt;&gt; teilen.</p>
</div>
</div>
<!-- Questions C-->
<div class="question-box" data-correct="Eine Freundin möchte einmal einen Tag lang in einer Bäckerei arbeiten.">
<div class="drop-target empty-drop-target" onclick="clickDrop(this)" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
<div class="question-text">
<h4>BÄCKEREI - KONDITOREI BROTECKE</h4>
            Bei uns gibt es einige Ausbildungsmöglichkeiten: Bäcker, Konditor, Verkauf, Büro Du interessierst dich für einen dieser Berufe und hast Freude an Backwaren aller Art. Bist genau, zuverlässig und kreativ?
            <p>Hast Fingerspitzengefühl und bist freundlich? Dann bist du in der BROTECKE genau richtig! Neben der ausgezeichneten fachlichen Aus- und Weiterbildung wird bei uns auch der Teamgeist großgeschrieben, so veranstalten wir z. B gemeinsame Exkursionen. Interessiert?</p>
<p>Du kannst gerne einen Schnuppertag oder ein Praktikum vereinbaren.</p>
</div>
</div>
<!-- Questions D-->
<div class="question-box" data-correct="Ein Bekannter sucht eine Haushaltshilfe, die manchmal im Garten hilft.">
<div class="drop-target empty-drop-target" onclick="clickDrop(this)" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
<div class="question-text">
<h4>Brauchen Sie Unterstützung im Haushalt?</h4>
            Dann schreiben Sie mir Gerne helfe ich Ihnen. Ich arbeite schnell und gründlich, bin ehrlich und zuverlässig mit langjähriger Erfahrung in Privathaushalten. Ich übernehme auch gerne Putzarbeiten in einem Restaurant, Büro, Hotel oder einer Arztpraxis.
            <p>Zusätzlich zu normalen Hausarbeiten wie Saugen, Putzen und Bügeln, erledige ich gerne auch Gartenarbeit. Auf Ihre Nachricht freue ich mich!</p>
<p>Kontaktformular</p>
</div>
</div>
<!-- Questions E-->
<div class="question-box" data-correct="__NO_CORRECT_ANSWER__">
<div class="drop-target empty-drop-target" onclick="clickDrop(this)" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
<div class="question-text">
             Zum 8. Mal findet dieses Jahr im September wieder die Nacht des Genusses statt. In diesem Rahmen öffnet auch die Bäckerei Holzofen wieder ihre Türen für Groß und Klein.
            <p>Bäckermeister Carlo Menzinger führt durch die Backstube und beantwortet gerne Ihre Fragen rund um die Themen Brot und Backen. Er und sein Team freuen sich darauf, Ihnen das Bäckerhandwerk aus der Nähe zu zeigen.</p>
<p>Natürlich gibt es auch leckere Kostproben gratis!</p>
<p>Führungen um 18:00 und 20:00 Uhr, begrenzte Teilnehmerzahl.</p>
</div>
</div>
<!-- Questions F-->
<div class="question-box" data-correct="Eine Bekannte möchte lernen, wie man Schaufenster gestaltet.">
<div class="drop-target empty-drop-target" onclick="clickDrop(this)" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
<div class="question-text">
<h4>Intensivkurs zur Dekorateurin/zum Dekorateur</h4>
            Sie lernen innerhalb von nur vier Wochen, wie man Produkte wirkungsvoll und ansprechend präsentiert.
            <p>Kursinhalte: Grundzüge der Dekoration, Werkstoffe, Arbeitstechniken, Drapieren, Bespannen und Tapezieren. Licht und Farben, Schriften, Preisauszeichnung.</p>
<p>Der Lehrgang richtet sich an Interessentinnen und Interessenten, die selbstständig Auslagen und Verkaufsräume dekorieren wollen. Er schließt mit einer theoretischen und einer schriftlichen Prüfung ab.</p>
<p>Kurstermine</p>
            Für diesen Kurs gibt es unter bestimmten Voraussetzungen Förderungen. Bitte prüfen Sie hier selbst, ob Sie persönlich die Voraussetzungen erfüllen.
        </div>
</div>
<!-- Questions G-->
<div class="question-box" data-correct="Ihre Mutter braucht jemanden, der im Haushalt hilft und manchmal kocht.">
<div class="drop-target empty-drop-target" onclick="clickDrop(this)" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
<div class="question-text">
            Rebecca, 38. Ich bin auf der Suche nach Familien, die Unterstützung im Haushalt brauchen. Sauberkeit, Genauigkeit, Pünktlichkeit und Zuverlässigkeit sind ebenso selbstverständlich wie Verschwiegenheit. Ich habe Erfahrung und viele zufriedene Kunden. Ich biete: Aufräumen, Müll wegbringen, Böden reinigen, Staub wischen, Fenster putzen, Putzen von Bad &amp; WC, Küche reinigen, Wäsche waschen und bügeln, Mahlzeiten zubereiten.
            <p>Kinderbetreuung 2-3 Arbeitstage pro Woche möglich.</p>
<p>Preis 15 /Stunde (+ Anfahrtskosten bei Entfernungen von mehr als 5 Km) Tel.: 0 69/98 14 19 24 (bitte werktags 16:00-21:00 Uhr)</p>
</div>
</div>
<!-- Questions H-->
<div class="question-box" data-correct="__NO_CORRECT_ANSWER__">
<div class="drop-target empty-drop-target" onclick="clickDrop(this)" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
<div class="question-text">
           Das duale Berufsausbildungssystem in Deutschland kombiniert praktische und theoretische Lehrinhalte. In der dualen Berufsausbildung gibt es jedes Jahr rund 600.000Ausbildungsplätze in mehr als 340 anerkannten Ausbildungsberufen. Im Wechsel mit der Anleitung in einem Betrieb wird in der Berufsschule unterrichtet. Während in den Praxisphasen die Lerninhalte mit erfahrenen Kollegen erarbeitet werden, stehen in der Berufsschule allgemeinbildende Fächer wie Deutsch, Englisch oder Mathematik im Vordergrund. In einem Sonderprogramm unterstützt die Bundesregierung auch Jugendliche aus dem europäischen Ausland, die eine Ausbildung in Deutschland machen möchten.
        </div>
</div>
<!-- Questions I-->
<div class="question-box" data-correct="Eine Freundin möchte eine besondere Party für ihre siebenjährige Tochter organisieren.">
<div class="drop-target empty-drop-target" onclick="clickDrop(this)" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
<div class="question-text">
<h4>TORTEN UND MEHR...</h4>
            Wir backen nicht nur Torten, sondern bieten auch Kurse rund ums Thema Backen an. Ganz aktuell: Cupcakes. Sie erlernen die Basis-Rezepte für Cupcakes und Auflagen. Ein besonderer Schwerpunkt liegt auf den Techniken zum Verzieren mit Spritzbeutel und Tüllen. Dieser Kurs eignet sich besonders gut für kleine Naschkätzchen: In Gruppen von 5 bis max. 10 Personen lernen die Kinder (6-10 Jahre) Cupcakes backen und dekorieren. Ideal für Geburtstagsfeiern oder ähnliche Anlässe. Jedes Kind verziert ca. 5 Cupcakes und darf seine Kunstwerke mit nach Hause nehmen.
            <p>Buchen</p>
</div>
</div>
<!-- Questions J-->
<div class="question-box" data-correct="Sie möchten für Ihren Sohn eine Geburtstagstorte bestellen. Ihr Sohn verträgt keine Laktose.">
<div class="drop-target empty-drop-target" onclick="clickDrop(this)" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
<div class="question-text">
<h4>LIZZIS BACKSTUBE</h4>
            Nach abgeschlossener Patisserie Ausbildung habe ich mir meinen Herzenswunsch erfüllt und meine eigene Konditorei eingerichtet. Nun entstehen in Lizzis Backstube auf Bestellung kleine und große Köstlichkeiten: von Pralinen und Konfekt über Törtchen und Cupcakes bis hin zu mehrstöckigen Hochzeitstorten. In meine Teige und Dekorationen Kommen nur Freilandeier und frische Zutaten-Qualität ist oberstes Gebot Besondere Wünsche wie Gluten- oder laktosefreie Teige und Cremes sind kein Problem. Ich biete auch Torten ganz ohne tierische Produkte an.
            <p>Fragen Sie einfach nach!office@lizzisbackstube.com 0 69/97 13 18 23 (Mi-Sa 10:00 bis 13:00 Uhr)</p>
</div>
</div>
<!-- Questions K-->
<div class="question-box" data-correct="Ihr Neffe liest gerne und möchte sein Hobby zu seinem Beruf machen.">
<div class="drop-target empty-drop-target" onclick="clickDrop(this)" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
<div class="question-text">
            Während der dreijährigen Ausbildung zur Buchhändlerin bzw. Zum Buchhändler lernst du, unsere Sortimente ansprechend im Schaufenster und im Verkaufsraum zu präsentieren. Wir vermitteln dir buchhändlerisches Fachwissen sowie Verkaufstechniken und Kenntnisse im Bereich Personal- und Rechnungswesen. Zu deinen Aufgaben gehören unter anderem die Recherche in Datenbanken sowie die Organisation von Events und Autorenlesungen. Neben buchhändlerischem Fachwissen vermitteln wir verschiedene Verkaufstechniken sowie betriebswirtschaftliche Kenntnisse im Bereich Personal-und Rechnungswesen. Bei uns bekommst du eine spannende und umfangreiche Ausbildung in einem guten Arbeitsklima. Wenn Bücher deine Welt sind, dann bist du hier richtig!
            <p>Jetzt online bewerben.</p>
</div>
</div>
<!-- Questions L-->
<div class="question-box" data-correct="__NO_CORRECT_ANSWER__">
<div class="drop-target empty-drop-target" onclick="clickDrop(this)" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
<div class="question-text">
            Die Hausratversicherung bietet Ihnen Schutz vor dem Verlust oder einer Beschädigung Ihres Eigentums, Beispiel nach einem Einbruch oder einem Wasserschaden. Sie deckt Schäden an allen beweglichen Gegenständen in den eigenen vier Wänden ab, z. B. an Möbeln, Teppichen oder Elektrogeräten Darüber hinaus können Sie auch für sich und Ihre Familie eine Haftpflichtversicherung bei uns abschließen. Haftpflichtschutz bedeutet, dass die Versicherung für Schäden aufkommt, die Sie oder Ihre Familienmitglieder anderen Personen zugefügt haben, zum Beispiel, wenn Ihr Kind auf der Straße mit dem Fahrrad ein parkendes Auto beschädigt hat.
          </div>
</div>
</div>
</div>
<div class="right-column">
<!-- MODIFIED: Added ondragover and ondrop to make this a droppable area -->
<div class="right-column-content" onclick="clearSelected()" ondragover="allowDrop(event)" ondrop="dropOnAnswersContainer(event)">
<!-- Answers -->
<div class="draggable" draggable="true" id="a1" onclick="selectAnswer(this, event)" ondragstart="drag(event)">
<input class="wrong-flag" onclick="event.stopPropagation()" type="checkbox"/> Ein Bekannter sucht eine Haushaltshilfe, die manchmal im Garten hilft. 
      </div>
<div class="draggable" draggable="true" id="a2" onclick="selectAnswer(this, event)" ondragstart="drag(event)">
<input class="wrong-flag" onclick="event.stopPropagation()" type="checkbox"/> Eine Bekannte möchte lernen, wie man Schaufenster gestaltet.
      </div>
<div class="draggable" draggable="true" id="a3" onclick="selectAnswer(this, event)" ondragstart="drag(event)">
<input class="wrong-flag" onclick="event.stopPropagation()" type="checkbox"/> Eine Freundin möchte eine besondere Party für ihre siebenjährige Tochter organisieren.
      </div>
<div class="draggable" draggable="true" id="a4" onclick="selectAnswer(this, event)" ondragstart="drag(event)">
<input class="wrong-flag" onclick="event.stopPropagation()" type="checkbox"/> Eine Freundin möchte einmal einen Tag lang in einer Bäckerei arbeiten.
      </div>
<div class="draggable" draggable="true" id="a5" onclick="selectAnswer(this, event)" ondragstart="drag(event)">
<input class="wrong-flag" onclick="event.stopPropagation()" type="checkbox"/> Ihr Neffe liest gerne und möchte sein Hobby zu seinem Beruf machen. 
      </div>
<div class="draggable" draggable="true" id="a6" onclick="selectAnswer(this, event)" ondragstart="drag(event)">
<input class="wrong-flag" onclick="event.stopPropagation()" type="checkbox"/> Ihre Mutter braucht jemanden, der im Haushalt hilft und manchmal kocht. 
      </div>
<div class="draggable" draggable="true" id="a7" onclick="selectAnswer(this, event)" ondragstart="drag(event)">
<input class="wrong-flag" onclick="event.stopPropagation()" type="checkbox"/> Ihre Nachbarin sucht eine Stelle als Haushaltshilfe. 
      </div>
<div class="draggable" draggable="true" id="a8" onclick="selectAnswer(this, event)" ondragstart="drag(event)">
<input class="wrong-flag" onclick="event.stopPropagation()" type="checkbox"/> Ihre Tochter mag Cupcakes. Sie sucht nach einem Buch mit leckeren Rezepten. 
      </div>
<div class="draggable" draggable="true" id="a9" onclick="selectAnswer(this, event)" ondragstart="drag(event)">
<input class="wrong-flag" onclick="event.stopPropagation()" type="checkbox"/> Sie möchten für Ihren Sohn eine Geburtstagstorte bestellen. Ihr Sohn verträgt keine Laktose. 
      </div>
<div class="draggable" draggable="true" id="a10" onclick="selectAnswer(this, event)" ondragstart="drag(event)">
<input class="wrong-flag" onclick="event.stopPropagation()" type="checkbox"/> Sie möchten in Ihrem Haushalt weniger Plastik verwenden.
      </div>
</div>
</div>
</div>
<div class="button-container">
<button class="quiz-button" id="submitQuizButton">
<i class="fas fa-paper-plane"></i> Abschicken
    </button>
<button class="quiz-button secondary" id="resetQuizButton">
<i class="fas fa-redo"></i> Zurücksetzen
    </button>
<!-- Changed to <a> tag for navigation, href to a generic "index.html" or "#" -->
<a class="quiz-button secondary" href="#" onclick="goToDashboard(event)" id="homeButton" role="button">
<i class="fas fa-home"></i> Startseite
    </a>
</div>
<div id="result"></div>
<script>
  let selectedAnswer = null;
  const rightColumnContent = document.querySelector(".right-column-content");
  const originalAnswerOrder = Array.from(rightColumnContent.querySelectorAll('.draggable')); // Store initial order for reset

  // MODIFIED: allowDrop to correctly identify parent droppable container
  function allowDrop(ev) {
    ev.preventDefault();
    let droppableContainer = ev.target;
    // Traverse up to find the actual droppable container (.drop-target or .right-column-content)
    while (droppableContainer && droppableContainer !== document.body &&
           !droppableContainer.classList.contains("drop-target") &&
           !droppableContainer.classList.contains("right-column-content")) {
        droppableContainer = droppableContainer.parentElement;
    }

    if (droppableContainer && (droppableContainer.classList.contains("drop-target") || droppableContainer.classList.contains("right-column-content"))) {
        droppableContainer.classList.add("drag-over");
    }
  }

  function drag(ev) {
    ev.dataTransfer.setData("text", ev.target.id);
    ev.target.classList.add("dragging");
  }

  document.addEventListener('dragleave', function(event) {
    if (event.target.classList && (event.target.classList.contains("drop-target") || event.target.classList.contains("right-column-content"))) {
        if (!event.target.contains(event.relatedTarget) && event.target !== event.relatedTarget) {
             event.target.classList.remove("drag-over");
        } else if (event.relatedTarget === null) { 
            event.target.classList.remove("drag-over");
        }
    }
  }, false);
  
  document.addEventListener('dragend', function(event) {
    if (event.target.classList && event.target.classList.contains('draggable')) {
      event.target.classList.remove('dragging');
    }
    document.querySelectorAll('.drop-target.drag-over, .right-column-content.drag-over').forEach(el => {
        el.classList.remove('drag-over');
    });
  });

  // MODIFIED: drop function for question slots
  function drop(ev) {
    ev.preventDefault();
    const draggedId = ev.dataTransfer.getData("text");
    const draggedEl = document.getElementById(draggedId);
    let dropTarget = ev.target;

    while (dropTarget && !dropTarget.classList.contains("drop-target")) {
        dropTarget = dropTarget.parentElement;
    }
    
    if (!dropTarget || !draggedEl) return;

    dropTarget.classList.remove("drag-over");

    const originalParentOfDraggedEl = draggedEl.parentElement; 

    const currentAnswerInTarget = dropTarget.querySelector(".draggable");
    if (currentAnswerInTarget && currentAnswerInTarget !== draggedEl) {
      rightColumnContent.appendChild(currentAnswerInTarget);
      showCheckbox(currentAnswerInTarget);
    }
    
    dropTarget.innerHTML = ""; 
    dropTarget.appendChild(draggedEl);
    hideCheckbox(draggedEl);
    updateDropTargetState(dropTarget);

    if (originalParentOfDraggedEl &&
        originalParentOfDraggedEl.classList.contains("drop-target") &&
        originalParentOfDraggedEl !== dropTarget) {
        updateDropTargetState(originalParentOfDraggedEl);
    }

    if (selectedAnswer === draggedEl) {
        draggedEl.classList.remove("selected");
        selectedAnswer = null;
    }
  }

  // NEW: Function to handle drops onto the answers container
  function dropOnAnswersContainer(ev) {
    ev.preventDefault();
    const draggedId = ev.dataTransfer.getData("text");
    const draggedEl = document.getElementById(draggedId);
    const answersContainer = ev.currentTarget; 

    if (!draggedEl || !answersContainer) return;

    answersContainer.classList.remove("drag-over");

    const originalParentOfDraggedEl = draggedEl.parentElement; 

    answersContainer.appendChild(draggedEl);
    showCheckbox(draggedEl);

    if (originalParentOfDraggedEl && originalParentOfDraggedEl.classList.contains("drop-target")) {
        updateDropTargetState(originalParentOfDraggedEl);
    }

    if (selectedAnswer === draggedEl) {
        draggedEl.classList.remove("selected");
        selectedAnswer = null;
    }
  }


  function hideCheckbox(el) {
    const checkbox = el.querySelector(".wrong-flag");
    if (checkbox) checkbox.style.display = "none";
  }

  function showCheckbox(el) {
    const checkbox = el.querySelector(".wrong-flag");
    if (checkbox) checkbox.style.display = "inline-block";
  }

  function selectAnswer(el, event) {
    event.stopPropagation(); 
    if (selectedAnswer === el) { 
      el.classList.remove("selected");
      selectedAnswer = null;
    } else {
      if (selectedAnswer) selectedAnswer.classList.remove("selected");
      selectedAnswer = el;
      el.classList.add("selected");
    }
  }

  // MODIFIED: clickDrop function
  function clickDrop(targetDropzone) {
    if (selectedAnswer) {
      const originalParentOfSelectedAnswer = selectedAnswer.parentElement;

      const currentAnswerInDropzone = targetDropzone.querySelector(".draggable");
      if (currentAnswerInDropzone && currentAnswerInDropzone !== selectedAnswer) {
        rightColumnContent.appendChild(currentAnswerInDropzone);
        showCheckbox(currentAnswerInDropzone);
      }
      
      targetDropzone.innerHTML = ""; 
      targetDropzone.appendChild(selectedAnswer);
      hideCheckbox(selectedAnswer);
      updateDropTargetState(targetDropzone);

      if (originalParentOfSelectedAnswer &&
          originalParentOfSelectedAnswer.classList.contains("drop-target") &&
          originalParentOfSelectedAnswer !== targetDropzone) {
          updateDropTargetState(originalParentOfSelectedAnswer);
      }

      selectedAnswer.classList.remove("selected");
      selectedAnswer = null;
    }
  }

  function clearSelected() {
    if (selectedAnswer) {
      selectedAnswer.classList.remove("selected");
      selectedAnswer = null;
    }
  }

  function updateDropTargetState(dropTarget) {
    if (!dropTarget || !dropTarget.classList.contains('drop-target')) return;
    
    if (dropTarget.querySelector(".draggable")) {
      dropTarget.classList.remove("empty-drop-target");
    } else {
      dropTarget.classList.add("empty-drop-target");
    }
  }

  function getDraggableText(draggableElement) {
    const clone = draggableElement.cloneNode(true);
    const checkbox = clone.querySelector('.wrong-flag');
    if (checkbox) {
        checkbox.remove();
    }
    return clone.textContent.trim();
  }

  function submitQuiz() {
    let total = 0, correct = 0;
    document.querySelectorAll('.question-box').forEach((box) => {
      total++;
      const correctAnswerText = box.getAttribute("data-correct").trim();
      const dropTarget = box.querySelector(".drop-target");
      const droppedDraggable = dropTarget.querySelector(".draggable");
      
      dropTarget.classList.remove("correct", "incorrect"); 

      if (droppedDraggable) { 
        const selectedText = getDraggableText(droppedDraggable); 
        if (correctAnswerText === "__NO_CORRECT_ANSWER__") {
          dropTarget.classList.add("incorrect");
        } else {
          if (selectedText === correctAnswerText) {
            dropTarget.classList.add("correct");
            correct++;
          } else {
            dropTarget.classList.add("incorrect");
          }
        }
      } else { 
        if (correctAnswerText !== "__NO_CORRECT_ANSWER__") {
          dropTarget.classList.add("incorrect");
        }
      }
      updateDropTargetState(dropTarget); 
    });

    let wrongMarkedCorrect = 0, wrongMarkedTotal = 0;
    rightColumnContent.querySelectorAll('.draggable').forEach((answerEl) => {
      const text = getDraggableText(answerEl); 
      const checkbox = answerEl.querySelector('.wrong-flag');
      
      const isACorrectAnswerOptionForAnyQuestion = Array.from(document.querySelectorAll('.question-box'))
        .some(box => {
            const qCorrectText = box.getAttribute('data-correct').trim();
            return qCorrectText !== "__NO_CORRECT_ANSWER__" && qCorrectText === text;
        });
      
      if (!isACorrectAnswerOptionForAnyQuestion) { 
        wrongMarkedTotal++; 
        if (checkbox.checked) {
          wrongMarkedCorrect++; 
        }
      }
    });

    const questionsWithNoAnswer = Array.from(document.querySelectorAll('.question-box'))
                                      .filter(box => box.getAttribute('data-correct').trim() === "__NO_CORRECT_ANSWER__").length;
    const scorableTotal = total - questionsWithNoAnswer;


    const resultDiv = document.getElementById("result");
    resultDiv.innerHTML =
      `<span class="correct-count">? ${correct}</span> von <span class="total-count">${scorableTotal}</span> bewertbaren Fragen richtig. | ` + 
      `<span class="marked-wrong-count">?? Falsch-Antworten korrekt markiert: ${wrongMarkedCorrect}</span> von ${wrongMarkedTotal}.`;
  }

  function resetQuiz() {
    document.querySelectorAll('.drop-target').forEach(dt => {
        const draggable = dt.querySelector('.draggable');
        if (draggable) {
            rightColumnContent.appendChild(draggable); 
            showCheckbox(draggable); 
        }
        dt.innerHTML = ''; 
        dt.classList.remove('correct', 'incorrect'); 
        updateDropTargetState(dt); 
    });

    rightColumnContent.innerHTML = ''; 
    originalAnswerOrder.forEach(draggable => {
        rightColumnContent.appendChild(draggable); 
        draggable.classList.remove('selected', 'dragging'); 
        showCheckbox(draggable); 
        const checkbox = draggable.querySelector('.wrong-flag');
        if (checkbox) checkbox.checked = false; 
    });
    
    if (selectedAnswer) {
      selectedAnswer.classList.remove('selected');
      selectedAnswer = null;
    }

    document.getElementById("result").innerHTML = ""; 
  }

  document.getElementById('submitQuizButton').addEventListener('click', submitQuiz);
  document.getElementById('resetQuizButton').addEventListener('click', resetQuiz);

  document.querySelectorAll('.drop-target').forEach(updateDropTargetState);
</script>


    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="../js/supabase-client.js"></script>
    <script src="../js/auth.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            Auth.requireExamAccess('B2');
        });
    </script>
    
<script>
// Smart redirect to dashboard based on referrer or URL parameter
function goToDashboard(event) {
    event.preventDefault();
    
    // Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const level = urlParams.get('level');
    
    if (level === 'B1' || level === 'b1') {
        window.location.href = '/Vorbereitung-B1B2/b1';
        return;
    }
    if (level === 'B2' || level === 'b2') {
        window.location.href = '/Vorbereitung-B1B2/b2';
        return;
    }
    
    // Check referrer
    const referrer = document.referrer;
    if (referrer.includes('/b1') || referrer.includes('B1')) {
        window.location.href = '/Vorbereitung-B1B2/b1';
        return;
    }
    if (referrer.includes('/b2') || referrer.includes('B2')) {
        window.location.href = '/Vorbereitung-B1B2/b2';
        return;
    }
    
    // Default to home
    window.location.href = '/Vorbereitung-B1B2/home';
}

// Auto-detect and update all back buttons on page load
document.addEventListener('DOMContentLoaded', function() {
    const backButtons = document.querySelectorAll('a[href*="index"], a.quiz-button.secondary, a#homeButton, a#homeBtn');
    backButtons.forEach(btn => {
        if (btn.href && (btn.href.includes('index') || btn.textContent.includes('Startseite') || btn.textContent.includes('Zurück'))) {
            btn.href = '#';
            btn.onclick = goToDashboard;
        }
    });
});
</script>
</body></html>
