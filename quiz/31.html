<html lang="de"><head>
<meta charset="UTF-8"/>
<title>Judith oder Lina</title>
<style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #e9eaec;
      display: flex;
      justify-content: center;
    }

    .container {
      display: flex;
      max-width: 1400px;
      width: 100%;
      background-color: #fff;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .letter {
      flex: 2;
      padding: 30px;
      font-size: 16px;
      line-height: 1.6;
    }

    .blank {
      background-color: #3f6ccf;
      color: white;
      padding: 2px 10px;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      min-width: 24px;
      text-align: center;
      display: inline-block;
    }

    .choices {
  flex: 1.5;
  background-color: #f2f3f7;
  padding: 30px 20px;
  overflow-y: auto;
  max-height: 90vh; /* Adjust height as needed */
}

    .question-block {
      margin-bottom: 20px;
    }

    .row-container {
      background-color: #e0e4f3;
      padding: 10px;
      border-radius: 10px;
      margin-top: 6px;
    }

    .options {
      display: flex;
      justify-content: space-between;
      gap: 10px;
    }

    .option {
      background-color: white;
      padding: 6px 14px;
      font-size: 14px;
      border-radius: 18px;
      border: 2px solid #ccc;
      cursor: pointer;
      transition: 0.2s ease;
      user-select: none;
      text-align: center;
      flex: 1;
    }

    .option:hover {
      background-color: #e6ebf9;
    }

    .option.selected {
      background-color: #d0defc;
      border-color: #3f6ccf;
      font-weight: bold;
    }

    .option.correct {
      background-color: #c8f7c5;
      border-color: #34a853;
    }

    .option.incorrect {
      background-color: #fbd5d5;
      border-color: #e53935;
    }

    input[type="radio"] {
      display: none;
    }

    .button-wrapper {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 30px;
}

#checkBtn,
#homeBtn {
  padding: 10px 20px;
  font-size: 16px;
  border: none;
  border-radius: 8px;
  min-width: 200px;
  text-align: center;
  cursor: pointer;
  text-decoration: none;
  font-weight: bold;
}

/* Primary button style */
#checkBtn {
  background-color: #3f6ccf;
  color: white;
}

#checkBtn:hover {
  background-color: #2f56b3;
}

/* Secondary button style */
#homeBtn {
  background-color: #6c757d;
  color: white;
  display: inline-block;
  line-height: 1.6;
}

#homeBtn:hover {
  background-color: #5a6268;
}

#warningBox {
  display: none;
  position: fixed;
  top: 20px;                  
  left: 50%;                  
  transform: translateX(-50%);
  background: #f81d1d;
  color: #ffffff;
  padding: 15px 20px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
  font-family: Arial, sans-serif;
  font-size: 14px;
  font-weight: bold;
  z-index: 9999;
}

  </style>
</head>
<body>
<div class="container">
<div class="letter">
<p>Hallo Judith oder Lina,</p>
<p>
        wir habe uns ja lange nicht gesehen. Ich hoffe, du hattest einen richtig schönen Urlaub in Kroatien! Danke auch für deine Urlaubskartei! Die hat mich echt neidisch gemacht; ich habe ja erst im September Urlaub.
        <span class="blank" id="blank1">1</span> rufst du heute schon deine E-Mails ab and liest diese Nachricht von mir! Wir, als das gesamte Team, möchten <span class="blank" id="blank2">2</span> unserer Kollegin Elena zu ihrer Pensionierung gemeinsam etwas zum Abschied schenken. Ihre Abschiedsfeier ist ja <span class="blank" id="blank3">3</span> übermorgen abends im großen Konferenzraum unserer Firma. Bist du <span class="blank" id="blank4">4</span> einverstanden, dass wir ihr zusammen einen Gutschein und einen Blumenstrauß schenken? Jeder zahlt etwas 10 € dazu. Ich denke, das ist angemessen. Du erinnerst dich: <span class="blank" id="blank5">5</span> wir das letzte Mal gesammelt hatten, gab es Beschwerden wegen der Höhe des Betrags. Aber möglicherweise hast du eine bessere Idee.
        Michael und ich gehen dann nachmittags <span class="blank" id="blank6">6</span> in der Stadt einkaufen. Die Glückwunschkarte für Elena könntest du dann übermorgen noch <span class="blank" id="blank7">7</span> vor der Feier unterschreiben. Wir treffen uns ja alle vorher und gehen gemeinsam hin.
        In der Firma war heute nicht viel los. Aber in den letzten 14 Tagen hatten viele Kollegen Urlaub, <span class="blank" id="blank8">8</span> ich sehr viel zu tun hatte. Es gibt übrigens auch <span class="blank" id="blank9">9</span> neue Entwicklungen in der Firma, von denen ich dir dann übermorgen erzählen kann.
        Wahrscheinlich bist du nach der langen Fahrt sehr müde. Schlaf dich morgen gut aus; wir sehen uns dann auf Elenas Feier! Ich wünsche dir heute einen <span class="blank" id="blank10">10</span> Tag.
    </p>
<p>Liebe Grüße,</p>
<p>Cosima</p>
</div>
<div class="choices">
<!-- Repeat for all 10 questions -->
<!-- Here's how one looks. Copy/paste for others -->
<div class="question-block" data-blank="1">
<div><strong>1.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q1" type="radio" value="Zuversichtlich"/>Zuversichtlich</label>
<label class="option"><input name="q1" type="radio" value="Möglichst"/>Möglichst</label>
<label class="option"><input name="q1" type="radio" value="Hoffentlich"/>Hoffentlich</label>
</div>
</div>
</div>
<div class="question-block" data-blank="2">
<div><strong>2.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q2" type="radio" value="vermutlich"/>vermutlich</label>
<label class="option"><input name="q2" type="radio" value="nämlich"/>nämlich</label>
<label class="option"><input name="q2" type="radio" value="bestimmt"/>bestimmt</label>
</div>
</div>
</div>
<div class="question-block" data-blank="3">
<div><strong>3.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q3" type="radio" value="schon"/>schon</label>
<label class="option"><input name="q3" type="radio" value="fast"/>fast</label>
<label class="option"><input name="q3" type="radio" value="beinahe"/>beinahe</label>
</div>
</div>
</div>
<div class="question-block" data-blank="4">
<div><strong>4.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q4" type="radio" value="damit"/>damit</label>
<label class="option"><input name="q4" type="radio" value="dafür"/>dafür</label>
<label class="option"><input name="q4" type="radio" value="dadurch"/>dadurch</label>
</div>
</div>
</div>
<div class="question-block" data-blank="5">
<div><strong>5.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q5" type="radio" value="Wenn"/>Wenn</label>
<label class="option"><input name="q5" type="radio" value="Wann"/>Wann</label>
<label class="option"><input name="q5" type="radio" value="Als"/>Als</label>
</div>
</div>
</div>
<div class="question-block" data-blank="6">
<div><strong>6.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q6" type="radio" value="zueinander"/>zueinander</label>
<label class="option"><input name="q6" type="radio" value="voneinander"/>voneinander</label>
<label class="option"><input name="q6" type="radio" value="miteinander"/>miteinander</label>
</div>
</div>
</div>
<div class="question-block" data-blank="7">
<div><strong>7.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q7" type="radio" value="vor Kurzem"/>vor Kurzem</label>
<label class="option"><input name="q7" type="radio" value="kürzlich"/>kürzlich</label>
<label class="option"><input name="q7" type="radio" value="kurz"/>kurz</label>
</div>
</div>
</div>
<div class="question-block" data-blank="8">
<div><strong>8.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q8" type="radio" value="weshalb"/>weshalb</label>
<label class="option"><input name="q8" type="radio" value="insofern"/>insofern</label>
<label class="option"><input name="q8" type="radio" value="deshalb"/>deshalb</label>
</div>
</div>
</div>
<div class="question-block" data-blank="9">
<div><strong>9.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q9" type="radio" value="vollkommen"/>vollkommen</label>
<label class="option"><input name="q9" type="radio" value="sämtlich"/>sämtlich</label>
<label class="option"><input name="q9" type="radio" value="erschöpfend"/>erschöpfend</label>
</div>
</div>
</div>
<div class="question-block" data-blank="10">
<div><strong>10.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q10" type="radio" value="passenden"/>passenden</label>
<label class="option"><input name="q10" type="radio" value="bequemen"/>bequemen</label>
<label class="option"><input name="q10" type="radio" value="angenehmen"/>angenehmen</label>
</div>
</div>
</div>
<div class="button-wrapper">
<button id="checkBtn">Antworten prüfen</button>
<a href="#" onclick="goToDashboard(event)" id="homeBtn">Zurück zur Startseite</a>
</div>
</div>
</div>
<script>
  const correctAnswers = {
    1: "Hoffentlich",
    2: "nämlich",
    3: "schon",
    4: "damit",
    5: "Als",
    6: "miteinander",
    7: "kurz",
    8: "weshalb",
    9: "vollkommen",
    10: "angenehmen"
  };

  document.querySelectorAll('.option input[type="radio"]').forEach(input => {
    input.addEventListener('change', (e) => {
      const label = e.target.closest('label');
      const block = e.target.closest('.question-block');
      const blankId = block.getAttribute('data-blank');
      const blank = document.getElementById('blank' + blankId);

      block.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
      label.classList.add('selected');
      blank.textContent = e.target.value;
    });
  });

  document.getElementById("checkBtn").addEventListener("click", () => {
    document.querySelectorAll('.question-block').forEach(block => {
      const blankId = block.getAttribute('data-blank');
      const selectedInput = block.querySelector('input[type="radio"]:checked');
      const options = block.querySelectorAll('.option');

      options.forEach(opt => opt.classList.remove('correct', 'incorrect'));

      if (selectedInput) {
        const value = selectedInput.value;
        const label = selectedInput.closest('.option');

        if (value === correctAnswers[blankId]) {
          label.classList.add('correct');
        } else {
          label.classList.add('incorrect');

          // Show correct answer
          options.forEach(opt => {
            if (opt.textContent.trim() === correctAnswers[blankId]) {
              opt.classList.add('correct');
            }
          });
        }
      }
    });
  });
</script>


    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="../js/supabase-client.js"></script>
    <script src="../js/auth.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            Auth.requireExamAccess('B2');
        });
    </script>
    
<script>
// Smart redirect to dashboard based on referrer or URL parameter
function goToDashboard(event) {
    event.preventDefault();
    
    // Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const level = urlParams.get('level');
    
    if (level === 'B1' || level === 'b1') {
        window.location.href = '/Vorbereitung-B1B2/b1';
        return;
    }
    if (level === 'B2' || level === 'b2') {
        window.location.href = '/Vorbereitung-B1B2/b2';
        return;
    }
    
    // Check referrer
    const referrer = document.referrer;
    if (referrer.includes('/b1') || referrer.includes('B1')) {
        window.location.href = '/Vorbereitung-B1B2/b1';
        return;
    }
    if (referrer.includes('/b2') || referrer.includes('B2')) {
        window.location.href = '/Vorbereitung-B1B2/b2';
        return;
    }
    
    // Default to home
    window.location.href = '/Vorbereitung-B1B2/home';
}

// Auto-detect and update all back buttons on page load
document.addEventListener('DOMContentLoaded', function() {
    const backButtons = document.querySelectorAll('a[href*="index"], a.quiz-button.secondary, a#homeButton, a#homeBtn');
    backButtons.forEach(btn => {
        if (btn.href && (btn.href.includes('index') || btn.textContent.includes('Startseite') || btn.textContent.includes('Zurück'))) {
            btn.href = '#';
            btn.onclick = goToDashboard;
        }
    });
});
</script>
</body></html>
