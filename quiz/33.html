<html lang="de"><head>
<meta charset="UTF-8"/>
<title>Maria</title>
<style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #e9eaec;
      display: flex;
      justify-content: center;
    }

    .container {
      display: flex;
      max-width: 1400px;
      width: 100%;
      background-color: #fff;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .letter {
      flex: 2;
      padding: 30px;
      font-size: 16px;
      line-height: 1.6;
    }

    .blank {
      background-color: #3f6ccf;
      color: white;
      padding: 2px 10px;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      min-width: 24px;
      text-align: center;
      display: inline-block;
    }

    .choices {
  flex: 1.5;
  background-color: #f2f3f7;
  padding: 30px 20px;
  overflow-y: auto;
  max-height: 90vh; /* Adjust height as needed */
}

    .question-block {
      margin-bottom: 20px;
    }

    .row-container {
      background-color: #e0e4f3;
      padding: 10px;
      border-radius: 10px;
      margin-top: 6px;
    }

    .options {
      display: flex;
      justify-content: space-between;
      gap: 10px;
    }

    .option {
      background-color: white;
      padding: 6px 14px;
      font-size: 14px;
      border-radius: 18px;
      border: 2px solid #ccc;
      cursor: pointer;
      transition: 0.2s ease;
      user-select: none;
      text-align: center;
      flex: 1;
    }

    .option:hover {
      background-color: #e6ebf9;
    }

    .option.selected {
      background-color: #d0defc;
      border-color: #3f6ccf;
      font-weight: bold;
    }

    .option.correct {
      background-color: #c8f7c5;
      border-color: #34a853;
    }

    .option.incorrect {
      background-color: #fbd5d5;
      border-color: #e53935;
    }

    input[type="radio"] {
      display: none;
    }

    .button-wrapper {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 30px;
}

#checkBtn,
#homeBtn {
  padding: 10px 20px;
  font-size: 16px;
  border: none;
  border-radius: 8px;
  min-width: 200px;
  text-align: center;
  cursor: pointer;
  text-decoration: none;
  font-weight: bold;
}

/* Primary button style */
#checkBtn {
  background-color: #3f6ccf;
  color: white;
}

#checkBtn:hover {
  background-color: #2f56b3;
}

/* Secondary button style */
#homeBtn {
  background-color: #6c757d;
  color: white;
  display: inline-block;
  line-height: 1.6;
}

#homeBtn:hover {
  background-color: #5a6268;
}

#warningBox {
  display: none;
  position: fixed;
  top: 20px;                  
  left: 50%;                  
  transform: translateX(-50%);
  background: #f81d1d;
  color: #ffffff;
  padding: 15px 20px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
  font-family: Arial, sans-serif;
  font-size: 14px;
  font-weight: bold;
  z-index: 9999;
}

  </style>
</head>
<body>
<div class="container">
<div class="letter">
<p>Hallo Maria</p>
<p>
        Bevor Wieder der Arbeitsalltag beginnt. schicke ich dir <span class="blank" id="blank1">1</span> rasch einige Zeilen um dir von unserem Wochenende zu erzählen. Es ist so schade, dass du <span class="blank" id="blank2">2</span> deiner Grippe nicht dabei sein konntest! Wir haben dich alle sehr vermisst.
        <span class="blank" id="blank3">3</span>auf Mikro sind Alle mit dem Zug angereist und wir haben uns schon am Bahnhof getroffen. Nachdem wir unser Gepäck abgestellt <span class="blank" id="blank4">4</span>. haben wir gleich einen Rundgang durch den Ort gemacht. Lilo wusste viel Interessantes zu erzählen. Sie lebt ja schon einige Jahre dort und hat sich <span class="blank" id="blank5">5</span> ausgezeichnete Fremdenführerin erwiesen. Besonders beeindruckt hat uns der Wunderschöne Park, in dem gerade die Rhododendren blühten. Eine Wahre Pracht. Das hätte dir auch gefallen! später sind wir zum Amseisee gewandert, den man in kurzer Zeit vom Ort aus erreicht. Dort haben wir eine Bootsfahrt über den See gemacht. vom Boot aus hat man einen Wunderbaren Blick auf die beeindruckende Felsenlandschaft. Am Abend stand dann die Felsentbühne <span class="blank" id="blank6">6</span> dem Programm. Die Wanderung am nächsten Tag war <span class="blank" id="blank7">7</span> schön anstrengend. aber Wunderbar. <span class="blank" id="blank8">8</span> alle ziemlich erschöpft waren. haben wir nach dem Abendessen noch lange zusammen gegessen. Und über alte Zeiten geplaudert. Am nächsten Morgen nach unserem gemeinsamen Frühstück waren uns einig, dass wir bald wieder zusammen einen Ausflug machen <span class="blank" id="blank9">9</span>. Und nächste Mal musst du unbedingt dabei sein. Im Anhang schicke ich dir einige. Wie du siehst, war unser Treffen wirklich lustig! Ich hoffe, dass es dir <span class="blank" id="blank10">10</span> schon wieder besser geht.
    </p>
<p>Liebe Grüße von uns allem</p>
<p>Cem</p>
</div>
<div class="choices">
<!-- Repeat for all 10 questions -->
<!-- Here's how one looks. Copy/paste for others -->
<div class="question-block" data-blank="1">
<div><strong>1.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q1" type="radio" value="momentan"/>momentan</label>
<label class="option"><input name="q1" type="radio" value="noch"/>noch</label>
<label class="option"><input name="q1" type="radio" value="weiterhin"/>weiterhin</label>
</div>
</div>
</div>
<div class="question-block" data-blank="2">
<div><strong>2.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q2" type="radio" value="deswegen"/>deswegen</label>
<label class="option"><input name="q2" type="radio" value="wegen"/>wegen</label>
<label class="option"><input name="q2" type="radio" value="weil"/>weil</label>
</div>
</div>
</div>
<div class="question-block" data-blank="3">
<div><strong>3.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q3" type="radio" value="abgesehen"/>abgesehen</label>
<label class="option"><input name="q3" type="radio" value="außer"/>außer</label>
<label class="option"><input name="q3" type="radio" value="bis"/>bis</label>
</div>
</div>
</div>
<div class="question-block" data-blank="4">
<div><strong>4.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q4" type="radio" value="haben"/>haben</label>
<label class="option"><input name="q4" type="radio" value="hatten"/>hatten</label>
<label class="option"><input name="q4" type="radio" value="hätten"/>hätten</label>
</div>
</div>
</div>
<div class="question-block" data-blank="5">
<div><strong>5.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q5" type="radio" value="als"/>als</label>
<label class="option"><input name="q5" type="radio" value="für"/>für</label>
<label class="option"><input name="q5" type="radio" value="zur"/>zur</label>
</div>
</div>
</div>
<div class="question-block" data-blank="6">
<div><strong>6.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q6" type="radio" value="auf"/>auf</label>
<label class="option"><input name="q6" type="radio" value="in"/>in</label>
<label class="option"><input name="q6" type="radio" value="zu"/>zu</label>
</div>
</div>
</div>
<div class="question-block" data-blank="7">
<div><strong>7.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q7" type="radio" value="absolut"/>absolut</label>
<label class="option"><input name="q7" type="radio" value="ganz"/>ganz</label>
<label class="option"><input name="q7" type="radio" value="vollkommen"/>vollkommen</label>
</div>
</div>
</div>
<div class="question-block" data-blank="8">
<div><strong>8.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q8" type="radio" value="obwohl"/>obwohl</label>
<label class="option"><input name="q8" type="radio" value="trotzdem"/>trotzdem</label>
<label class="option"><input name="q8" type="radio" value="ungeachtet"/>ungeachtet</label>
</div>
</div>
</div>
<div class="question-block" data-blank="9">
<div><strong>9.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q9" type="radio" value="durften"/>durften</label>
<label class="option"><input name="q9" type="radio" value="konnten"/>konnten</label>
<label class="option"><input name="q9" type="radio" value="sollten"/>sollten</label>
</div>
</div>
</div>
<div class="question-block" data-blank="10">
<div><strong>10.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q10" type="radio" value="inzwischen"/>inzwischen</label>
<label class="option"><input name="q10" type="radio" value="während"/>während</label>
<label class="option"><input name="q10" type="radio" value="zwischen"/>zwischen</label>
</div>
</div>
</div>
<div class="button-wrapper">
<button id="checkBtn">Antworten prüfen</button>
<a href="#" onclick="goToDashboard(event)" id="homeBtn">Zurück zur Startseite</a>
</div>
</div>
</div>
<script>
  const correctAnswers = {
    1: "noch",
    2: "wegen",
    3: "bis",
    4: "hatten",
    5: "als",
    6: "auf",
    7: "ganz",
    8: "obwohl",
    9: "sollten",
    10: "inzwischen"
  };

  document.querySelectorAll('.option input[type="radio"]').forEach(input => {
    input.addEventListener('change', (e) => {
      const label = e.target.closest('label');
      const block = e.target.closest('.question-block');
      const blankId = block.getAttribute('data-blank');
      const blank = document.getElementById('blank' + blankId);

      block.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
      label.classList.add('selected');
      blank.textContent = e.target.value;
    });
  });

  document.getElementById("checkBtn").addEventListener("click", () => {
    document.querySelectorAll('.question-block').forEach(block => {
      const blankId = block.getAttribute('data-blank');
      const selectedInput = block.querySelector('input[type="radio"]:checked');
      const options = block.querySelectorAll('.option');

      options.forEach(opt => opt.classList.remove('correct', 'incorrect'));

      if (selectedInput) {
        const value = selectedInput.value;
        const label = selectedInput.closest('.option');

        if (value === correctAnswers[blankId]) {
          label.classList.add('correct');
        } else {
          label.classList.add('incorrect');

          // Show correct answer
          options.forEach(opt => {
            if (opt.textContent.trim() === correctAnswers[blankId]) {
              opt.classList.add('correct');
            }
          });
        }
      }
    });
  });
</script>


    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="../js/supabase-client.js"></script>
    <script src="../js/auth.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            Auth.requireExamAccess('B2');
        });
    </script>
    
<script>
// Smart redirect to dashboard based on referrer or URL parameter
function goToDashboard(event) {
    event.preventDefault();
    
    // Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const level = urlParams.get('level');
    
    if (level === 'B1' || level === 'b1') {
        window.location.href = '/Vorbereitung-B1B2/b1';
        return;
    }
    if (level === 'B2' || level === 'b2') {
        window.location.href = '/Vorbereitung-B1B2/b2';
        return;
    }
    
    // Check referrer
    const referrer = document.referrer;
    if (referrer.includes('/b1') || referrer.includes('B1')) {
        window.location.href = '/Vorbereitung-B1B2/b1';
        return;
    }
    if (referrer.includes('/b2') || referrer.includes('B2')) {
        window.location.href = '/Vorbereitung-B1B2/b2';
        return;
    }
    
    // Default to home
    window.location.href = '/Vorbereitung-B1B2/home';
}

// Auto-detect and update all back buttons on page load
document.addEventListener('DOMContentLoaded', function() {
    const backButtons = document.querySelectorAll('a[href*="index"], a.quiz-button.secondary, a#homeButton, a#homeBtn');
    backButtons.forEach(btn => {
        if (btn.href && (btn.href.includes('index') || btn.textContent.includes('Startseite') || btn.textContent.includes('Zurück'))) {
            btn.href = '#';
            btn.onclick = goToDashboard;
        }
    });
});
</script>
</body></html>
